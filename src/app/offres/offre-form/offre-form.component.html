<div class="row">
  <div class="col-sm-8 offset-sm-2">
    <h3>Ajouter une offre permanente</h3>
    <form *ngIf="!sending" [formGroup]="offreForm" (ngSubmit)="onSubmit(offreForm.value)">
      <div class="form-group mt-3">
        <label for="category">Cat√©gorie</label>
        <select class="custom-select"
                id="category"
                (change)="getRubriques($event.target.value)"
                formControlName="category">
          <option *ngFor="let category of categories" [value]="category.id">{{ category.libelle }}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="rubrique">Rubrique</label>
        <select class="custom-select"
                id="rubrique"
                formControlName="rubrique">
          <option *ngFor="let rubrique of rubriques" [value]="rubrique.id">{{ rubrique.libelle }}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="titre">Titre</label>
        <input type="text"
               id="titre"
               class="form-control"
               formControlName="titre">
      </div>
      <div class="form-group">
        <label for="text">Description</label>
        <textarea id="text"
                  class="form-control"
                  formControlName="text"></textarea>
      </div>
      <!-- <div class="form-group">
        <label for="photoLien">photoLien</label>
        <input type="text"
               id="photoLien"
               class="form-control"
               formControlName="photoLien">
      </div> -->
      <div class="d-flex justify-content-between mt-5">
        <button class="btn btn-danger w-25" (click)="annuler()">Annuler</button>

        <button class="btn btn-success w-25"
                type="submit"
                [disabled]="offreForm.invalid">
                Enregistrer
        </button>
      </div>

    </form>
    <div *ngIf="sending" class="spinner-border text-primary mt-5 mx-auto d-block" role="status">
      <span class="sr-only">Loading...</span>
    </div>


    <p class="text-danger">{{ errorMessage }}</p>
  </div>
</div>

